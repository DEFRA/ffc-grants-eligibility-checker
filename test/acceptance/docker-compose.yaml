services:
  wdio-cucumber:
    build: .
    image: wdio-cucumber
    container_name: wdio-cucumber
    depends_on:
      - selenium-cucumber
    environment:
      TEST_ENVIRONMENT_ROOT_URL: ${TEST_ENVIRONMENT_ROOT_URL}
      CHROME_ARGS: "--headless --ignore-certificate-errors"
      RUNNING_IN_CONTAINER: "true"
    volumes:
      - ./html-reports:/html-reports
      - ./json-reports:/json-reports

  selenium-cucumber:
    image: selenium/standalone-chrome
    # change to following image for ARM architectures
    #image: seleniarm/standalone-chromium
    container_name: selenium-cucumber
    volumes:
      - /dev/shm:/dev/shm
